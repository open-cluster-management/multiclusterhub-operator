# This file was autogenerated by 'common/scripts/olm_catalog.sh'
# Do not edit it manually!
---
apiVersion: operators.coreos.com/v1alpha1
kind: CatalogSource
metadata:
  name: multiclusterhub-operator-registry
spec:
  configMap: multiclusterhub-operator-registry
  displayName: multiclusterhub-operator
  publisher: Red Hat
  sourceType: configmap
---
kind: ConfigMap
apiVersion: v1
metadata:
  name: multiclusterhub-operator-registry
data:
  customResourceDefinitions: |-
    - apiVersion: apiextensions.k8s.io/v1beta1
      kind: CustomResourceDefinition
      metadata:
        name: multiclusterhubs.operators.open-cluster-management.io
      spec:
        group: operators.open-cluster-management.io
        names:
          kind: MultiClusterHub
          listKind: MultiClusterHubList
          plural: multiclusterhubs
          shortNames:
          - mch
          singular: multiclusterhub
        scope: Namespaced
        subresources:
          status: {}
        validation:
          openAPIV3Schema:
            description: MultiClusterHub is the Schema for the multiclusterhubs API
            properties:
              apiVersion:
                description: 'APIVersion defines the versioned schema of this representation
                  of an object. Servers should convert recognized schemas to the latest
                  internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#resources'
                type: string
              kind:
                description: 'Kind is a string value representing the REST resource this
                  object represents. Servers may infer this from the endpoint the client
                  submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#types-kinds'
                type: string
              metadata:
                type: object
              spec:
                description: MultiClusterHubSpec defines the desired state of MultiClusterHub
                properties:
                  foundation:
                    description: Spec of foundation
                    properties:
                      apiserver:
                        description: Spec of apiserver
                        properties:
                          apiserverSecret:
                            description: Certificates of API server
                            type: string
                          configuration:
                            additionalProperties:
                              type: string
                            description: Configuration of the pod
                            type: object
                          klusterletSecret:
                            description: Certificates of Klusterlet
                            type: string
                          replicas:
                            description: Number of desired pods. This is a pointer to distinguish
                              between explicit zero and not specified. Defaults to 1
                            format: int32
                            type: integer
                        type: object
                      controller:
                        description: Spec of controller
                        properties:
                          configuration:
                            additionalProperties:
                              type: string
                            description: Configuration of the pod
                            type: object
                          replicas:
                            description: Number of desired pods. This is a pointer to distinguish
                              between explicit zero and not specified. Defaults to 1
                            format: int32
                            type: integer
                        type: object
                    type: object
                  hive:
                    description: Spec of hive
                    properties:
                      additionalCertificateAuthorities:
                        description: AdditionalCertificateAuthorities is a list of references
                          to secrets in the 'hive' namespace that contain an additional
                          Certificate Authority to use when communicating with target clusters.
                          These certificate authorities will be used in addition to any
                          self-signed CA generated by each cluster on installation.
                        items:
                          description: LocalObjectReference contains enough information
                            to let you locate the referenced object inside the same namespace.
                          properties:
                            name:
                              description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                TODO: Add other useful fields. apiVersion, kind, uid?'
                              type: string
                          type: object
                        type: array
                      backup:
                        description: Backup specifies configuration for backup integration.
                          If absent, backup integration will be disabled.
                        properties:
                          minBackupPeriodSeconds:
                            description: MinBackupPeriodSeconds specifies that a minimum
                              of MinBackupPeriodSeconds will occur in between each backup.
                              This is used to rate limit backups. This potentially batches
                              together multiple changes into 1 backup. No backups will be
                              lost as changes that happen during this interval are queued
                              up and will result in a backup happening once the interval
                              has been completed.
                            type: integer
                          velero:
                            description: Velero specifies configuration for the Velero backup
                              integration.
                            properties:
                              enabled:
                                description: Enabled dictates if Velero backup integration
                                  is enabled. If not specified, the default is disabled.
                                type: boolean
                            type: object
                        type: object
                      externalDNS:
                        description: ExternalDNS specifies configuration for external-dns
                          if it is to be deployed by Hive. If absent, external-dns will
                          not be deployed.
                        properties:
                          aws:
                            description: AWS contains AWS-specific settings for external
                              DNS
                            properties:
                              credentials:
                                description: Credentials references a secret that will be
                                  used to authenticate with AWS Route53. It will need permission
                                  to manage entries in each of the managed domains for this
                                  cluster. Secret should have AWS keys named 'aws_access_key_id'
                                  and 'aws_secret_access_key'.
                                properties:
                                  name:
                                    description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      TODO: Add other useful fields. apiVersion, kind, uid?'
                                    type: string
                                type: object
                            type: object
                          gcp:
                            description: GCP contains GCP-specific settings for external
                              DNS
                            properties:
                              credentials:
                                description: Credentials references a secret that will be
                                  used to authenticate with GCP DNS. It will need permission
                                  to manage entries in each of the managed domains for this
                                  cluster. Secret should have a key names 'osServiceAccount.json'.
                                  The credentials must specify the project to use.
                                properties:
                                  name:
                                    description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                      TODO: Add other useful fields. apiVersion, kind, uid?'
                                    type: string
                                type: object
                            type: object
                        type: object
                      failedProvisionConfig:
                        description: FailedProvisionConfig is used to configure settings
                          related to handling provision failures.
                        properties:
                          skipGatherLogs:
                            description: SkipGatherLogs disables functionality that attempts
                              to gather full logs from the cluster if an installation fails
                              for any reason. The logs will be stored in a persistent volume
                              for up to 7 days.
                            type: boolean
                        type: object
                      globalPullSecret:
                        description: GlobalPullSecret is used to specify a pull secret that
                          will be used globally by all of the cluster deployments. For each
                          cluster deployment, the contents of GlobalPullSecret will be merged
                          with the specific pull secret for a cluster deployment(if specified),
                          with precedence given to the contents of the pull secret for the
                          cluster deployment.
                        properties:
                          name:
                            description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                              TODO: Add other useful fields. apiVersion, kind, uid?'
                            type: string
                        type: object
                      maintenanceMode:
                        description: MaintenanceMode can be set to true to disable the hive
                          controllers in situations where we need to ensure nothing is running
                          that will add or act upon finalizers on Hive types. This should
                          rarely be needed. Sets replicas to 0 for the hive-controllers
                          deployment to accomplish this.
                        type: boolean
                    required:
                    - failedProvisionConfig
                    type: object
                  imagePullPolicy:
                    description: Pull policy of the MultiCluster hub images
                    type: string
                  imagePullSecret:
                    description: Pull secret of the MultiCluster hub images
                    type: string
                  imageRepository:
                    description: Repository of the MultiCluster hub images
                    type: string
                  imageTagSuffix:
                    description: ImageTagSuffix of the MultiCluster hub images
                    type: string
                  ingressDomain:
                    description: Default domain for routes
                    type: string
                  mongo:
                    description: Spec of mongo
                    properties:
                      caSecret:
                        description: CA secret of mongo
                        type: string
                      endpoints:
                        description: Endpoints of mongo
                        type: string
                      replicaSet:
                        description: Replica set of mongo
                        type: string
                      tlsSecret:
                        description: TLS secret of mongo
                        type: string
                      userSecret:
                        description: User secret of mongo
                        type: string
                    required:
                    - endpoints
                    - replicaSet
                    type: object
                  nodeSelector:
                    description: Spec of NodeSelector
                    properties:
                      customLabelSelector:
                        description: Spec of CustomLabelSelector
                        type: string
                      customLabelValue:
                        description: Spec of CustomLabelValue
                        type: string
                      os:
                        description: Spec of OS
                        type: string
                    type: object
                  storageClass:
                    description: StorageClass for MultiCluster hub components
                    type: string
                  version:
                    description: Version of the MultiCluster hub
                    type: string
                required:
                - foundation
                - hive
                - imagePullPolicy
                - imageRepository
                - imageTagSuffix
                - mongo
                - version
                type: object
              status:
                description: MultiClusterHubStatus defines the observed state of MultiClusterHub
                properties:
                  deployments:
                    description: Represents the status of each deployment
                    items:
                      description: DeploymentResult defines the observed state of Deployment
                      properties:
                        name:
                          description: Name of the deployment
                          type: string
                        status:
                          description: The most recently observed status of the Deployment
                          properties:
                            availableReplicas:
                              description: Total number of available pods (ready for at
                                least minReadySeconds) targeted by this deployment.
                              format: int32
                              type: integer
                            collisionCount:
                              description: Count of hash collisions for the Deployment.
                                The Deployment controller uses this field as a collision
                                avoidance mechanism when it needs to create the name for
                                the newest ReplicaSet.
                              format: int32
                              type: integer
                            conditions:
                              description: Represents the latest available observations
                                of a deployment's current state.
                              items:
                                description: DeploymentCondition describes the state of
                                  a deployment at a certain point.
                                properties:
                                  lastTransitionTime:
                                    description: Last time the condition transitioned from
                                      one status to another.
                                    format: date-time
                                    type: string
                                  lastUpdateTime:
                                    description: The last time this condition was updated.
                                    format: date-time
                                    type: string
                                  message:
                                    description: A human readable message indicating details
                                      about the transition.
                                    type: string
                                  reason:
                                    description: The reason for the condition's last transition.
                                    type: string
                                  status:
                                    description: Status of the condition, one of True, False,
                                      Unknown.
                                    type: string
                                  type:
                                    description: Type of deployment condition.
                                    type: string
                                required:
                                - status
                                - type
                                type: object
                              type: array
                            observedGeneration:
                              description: The generation observed by the deployment controller.
                              format: int64
                              type: integer
                            readyReplicas:
                              description: Total number of ready pods targeted by this deployment.
                              format: int32
                              type: integer
                            replicas:
                              description: Total number of non-terminated pods targeted
                                by this deployment (their labels match the selector).
                              format: int32
                              type: integer
                            unavailableReplicas:
                              description: Total number of unavailable pods targeted by
                                this deployment. This is the total number of pods that are
                                still required for the deployment to have 100% available
                                capacity. They may either be pods that are running but not
                                yet available or pods that still have not been created.
                              format: int32
                              type: integer
                            updatedReplicas:
                              description: Total number of non-terminated pods targeted
                                by this deployment that have the desired template spec.
                              format: int32
                              type: integer
                          type: object
                      required:
                      - name
                      - status
                      type: object
                    type: array
                  phase:
                    description: Represents the running phase of the MultiClusterHub
                    type: string
                required:
                - phase
                type: object
            type: object
        version: v1alpha1
        versions:
        - name: v1alpha1
          served: true
          storage: true
  clusterServiceVersions: |-
    - apiVersion: operators.coreos.com/v1alpha1
      kind: ClusterServiceVersion
      metadata:
        annotations:
          alm-examples: |-
            [
              {
                "apiVersion": "operators.open-cluster-management.io/v1alpha1",
                "kind": "MultiClusterHub",
                "metadata": {
                  "name": "example-multiclusterhub",
                  "namespace": "open-cluster-management"
                },
                "spec": {
                  "foundation": {
                    "apiserver": {
                      "apiserverSecret": "mcm-apiserver-self-signed-secrets",
                      "configuration": {
                        "http2-max-streams-per-connection": "1000"
                      },
                      "klusterletSecret": "mcm-klusterlet-self-signed-secrets",
                      "replicas": 1
                    },
                    "controller": {
                      "configuration": {
                        "enable-rbac": "true",
                        "enable-service-registry": "true"
                      },
                      "replicas": 1
                    }
                  },
                  "hive": {
                    "additionalCertificateAuthorities": [
                      {
                        "name": "letsencrypt-ca"
                      }
                    ],
                    "failedProvisionConfig": {
                      "skipGatherLogs": true
                    },
                    "globalPullSecret": {
                      "name": "private-secret"
                    }
                  },
                  "imagePullPolicy": "Always",
                  "imagePullSecret": "quay-secret",
                  "imageRepository": "quay.io/open-cluster-management",
                  "imageTagSuffix": "",
                  "mongo": {
                    "endpoints": "mongo-0.mongo.open-cluster-management",
                    "replicaSet": "rs0"
                  },
                  "version": "latest"
                }
              }
            ]
          capabilities: Basic Install
        name: multiclusterhub-operator.v0.0.1
        namespace: placeholder
      spec:
        apiservicedefinitions: {}
        customresourcedefinitions:
          required:
          - name: channels.app.ibm.com
            version: v1alpha1
            kind: Channel
            displayName: Channel
            description: Represent a helm chart repository
          - name: deployables.app.ibm.com
            version: v1alpha1
            kind: Deployable
            displayName: Deployable
            description: 'Contain a k8s resource template for deployment, for internal use only.'
          - name: etcdclusters.etcd.database.coreos.com
            version: v1beta2
            kind: EtcdCluster
            displayName: etcd Cluster
            description: Represents a cluster of etcd nodes.
          - name: helmreleases.app.ibm.com
            version: v1alpha1
            kind: HelmRelease
            displayName: Helm Release
            description: Represent a helm chart selected by the subscription, for internal use only.
          - name: subscriptions.app.ibm.com
            version: v1alpha1
            kind: Subscription
            displayName: Subscription
            description: Subscribe resources from a channel according to its package filters
          owned:
          - description: MultiClusterHub is the Schema for the multiclusterhubs API
            displayName: MultiClusterHub Operator
            kind: MultiClusterHub
            name: multiclusterhubs.operators.open-cluster-management.io
            version: v1alpha1
        description: Placeholder description
        displayName: Multiclusterhub Operator
        install:
          spec:
            clusterPermissions:
            - rules:
              - apiGroups:
                - ""
                resources:
                - pods
                - services
                - services/finalizers
                - endpoints
                - persistentvolumeclaims
                - events
                - configmaps
                - secrets
                - serviceaccounts
                - namespaces
                verbs:
                - '*'
              - apiGroups:
                - apps
                resources:
                - deployments
                - daemonsets
                - replicasets
                - statefulsets
                verbs:
                - '*'
              - apiGroups:
                - monitoring.coreos.com
                resources:
                - servicemonitors
                verbs:
                - get
                - create
              - apiGroups:
                - apps
                resourceNames:
                - multiclusterhub-operator
                resources:
                - deployments/finalizers
                verbs:
                - update
              - apiGroups:
                - ""
                resources:
                - pods
                verbs:
                - get
              - apiGroups:
                - apps
                resources:
                - replicasets
                - deployments
                verbs:
                - get
              - apiGroups:
                - admissionregistration.k8s.io
                resources:
                - '*'
                verbs:
                - '*'
              - apiGroups:
                - operators.open-cluster-management.io
                resources:
                - '*'
                verbs:
                - '*'
              - apiGroups:
                - apiregistration.k8s.io
                resources:
                - '*'
                verbs:
                - '*'
              - apiGroups:
                - rbac.authorization.k8s.io
                resources:
                - '*'
                verbs:
                - '*'
              - apiGroups:
                - clusterregistry.k8s.io
                resources:
                - '*'
                verbs:
                - '*'
              - apiGroups:
                - operators.coreos.com
                resources:
                - operatorgroups
                - subscriptions
                verbs:
                - get
                - create
              - apiGroups:
                - etcd.database.coreos.com
                resources:
                - etcdclusters
                verbs:
                - get
                - create
              - apiGroups:
                - apiextensions.k8s.io
                resources:
                - customresourcedefinitions
                verbs:
                - get
                - create
              - apiGroups:
                - app.ibm.com
                resources:
                - '*'
                verbs:
                - '*'
              - apiGroups:
                - operators.coreos.com
                resources:
                - hive-catalog
                - catalogsources
                - clusterserviceversions
                - hiveconfig
                verbs:
                - get
                - create
              - apiGroups:
                - hive.openshift.io
                resources:
                - hiveconfigs
                verbs:
                - get
                - create
              - apiGroups:
                - security.openshift.io
                resources:
                - securitycontextconstraints
                verbs:
                - '*'
              - apiGroups:
                - config.openshift.io
                resources:
                - ingresses
                verbs:
                - '*'
              - apiGroups:
                - storage.k8s.io
                resources:
                - storageclasses
                verbs:
                - '*'
              serviceAccountName: multiclusterhub-operator
            deployments:
            - name: multiclusterhub-operator
              spec:
                replicas: 1
                selector:
                  matchLabels:
                    name: multiclusterhub-operator
                strategy: {}
                template:
                  metadata:
                    labels:
                      name: multiclusterhub-operator
                  spec:
                    containers:
                    - command:
                      - multiclusterhub-operator
                      env:
                      - name: WATCH_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.annotations['olm.targetNamespaces']
                      - name: POD_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.name
                      - name: POD_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.namespace
                      - name: OPERATOR_NAME
                        value: multiclusterhub-operator
                      - name: USER
                        value: multiclusterhub-operator
                      - name: TEMPLATES_PATH
                        value: /usr/local/templates
                      image: quay.io/rhibmcollab/multiclusterhub-operator:latest
                      imagePullPolicy: Always
                      name: multiclusterhub-operator
                      resources: {}
                    imagePullSecrets:
                    - name: multiclusterhub-operator-pull-secret
                    serviceAccountName: multiclusterhub-operator
          strategy: deployment
        installModes:
        - supported: true
          type: OwnNamespace
        - supported: true
          type: SingleNamespace
        - supported: false
          type: MultiNamespace
        - supported: false
          type: AllNamespaces
        maturity: alpha
        provider: {}
        version: 0.0.1
  packages: |-
    - channels:
      - currentCSV: multiclusterhub-operator.v0.0.1
        name: alpha
      defaultChannel: alpha
      packageName: multiclusterhub-operator
