# This file was autogenerated by 'common/scripts/olm_catalog.sh'
# Do not edit it manually!
---
apiVersion: operators.coreos.com/v1alpha1
kind: CatalogSource
metadata:
  name: multicloudhub-operator-registry
spec:
  configMap: multicloudhub-operator-registry
  displayName: multicloudhub-operator
  publisher: Red Hat
  sourceType: configmap
---
kind: ConfigMap
apiVersion: v1
metadata:
  name: multicloudhub-operator-registry
data:
  customResourceDefinitions: |-
    - apiVersion: apiextensions.k8s.io/v1beta1
      kind: CustomResourceDefinition
      metadata:
        name: multicloudhubs.operators.multicloud.ibm.com
      spec:
        group: operators.multicloud.ibm.com
        names:
          kind: MultiCloudHub
          listKind: MultiCloudHubList
          plural: multicloudhubs
          singular: multicloudhub
        scope: Namespaced
        subresources:
          status: {}
        validation:
          openAPIV3Schema:
            description: MultiCloudHub is the Schema for the multicloudhubs API
            properties:
              apiVersion:
                description: 'APIVersion defines the versioned schema of this representation
                  of an object. Servers should convert recognized schemas to the latest
                  internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#resources'
                type: string
              kind:
                description: 'Kind is a string value representing the REST resource this
                  object represents. Servers may infer this from the endpoint the client
                  submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#types-kinds'
                type: string
              metadata:
                type: object
              spec:
                description: MultiCloudHubSpec defines the desired state of MultiCloudHub
                properties:
                  etcd:
                    description: Spec of etcd
                    properties:
                      endpoints:
                        description: Endpoints of etcd
                        type: string
                      secret:
                        description: Secret of etcd
                        type: string
                    required:
                    - endpoints
                    type: object
                  foundation:
                    description: Spec of foundation
                    properties:
                      apiserver:
                        description: Spec of apiserver
                        properties:
                          apiserverSecret:
                            description: Certificates of API server
                            type: string
                          configuration:
                            additionalProperties:
                              type: string
                            description: Configuration of the pod
                            type: object
                          klusterletSecret:
                            description: Certificates of Klusterlet
                            type: string
                          replicas:
                            description: Number of desired pods. This is a pointer to distinguish
                              between explicit zero and not specified. Defaults to 1
                            format: int32
                            type: integer
                        type: object
                      controller:
                        description: Spec of controller
                        properties:
                          configuration:
                            additionalProperties:
                              type: string
                            description: Configuration of the pod
                            type: object
                          replicas:
                            description: Number of desired pods. This is a pointer to distinguish
                              between explicit zero and not specified. Defaults to 1
                            format: int32
                            type: integer
                        type: object
                    type: object
                  imagePullPolicy:
                    description: Pull policy of the MultiCloud hub images
                    type: string
                  imagePullSecret:
                    description: Pull secret of the MultiCloud hub images
                    type: string
                  imageRepository:
                    description: Repository of the MultiCloud hub images
                    type: string
                  imageTagPostfix:
                    description: Postfix tag of the Multicloud hub images
                    type: string
                  mongo:
                    description: Spec of mongo
                    properties:
                      caSecret:
                        description: CA secret of mongo
                        type: string
                      endpoints:
                        description: Endpoints of mongo
                        type: string
                      replicaSet:
                        description: Replica set of mongo
                        type: string
                      tlsSecret:
                        description: TLS secret of mongo
                        type: string
                      userSecret:
                        description: User secret of mongo
                        type: string
                    required:
                    - endpoints
                    - replicaSet
                    type: object
                  nodeSelector:
                    description: Spec of NodeSelector
                    properties:
                      customLabelSelector:
                        description: Spec of CustomLabelSelector
                        type: string
                      customLabelValue:
                        description: Spec of CustomLabelValue
                        type: string
                      os:
                        description: Spec of OS
                        type: string
                    type: object
                  version:
                    description: Version of the MultiCloud hub
                    type: string
                required:
                - etcd
                - foundation
                - imagePullPolicy
                - imageRepository
                - mongo
                - version
                type: object
              status:
                description: MultiCloudHubStatus defines the observed state of MultiCloudHub
                properties:
                  deployments:
                    description: Represents the status of each deployment
                    items:
                      description: DeploymentResult defines the observed state of Deployment
                      properties:
                        name:
                          description: Name of the deployment
                          type: string
                        status:
                          description: The most recently observed status of the Deployment
                          properties:
                            availableReplicas:
                              description: Total number of available pods (ready for at
                                least minReadySeconds) targeted by this deployment.
                              format: int32
                              type: integer
                            collisionCount:
                              description: Count of hash collisions for the Deployment.
                                The Deployment controller uses this field as a collision
                                avoidance mechanism when it needs to create the name for
                                the newest ReplicaSet.
                              format: int32
                              type: integer
                            conditions:
                              description: Represents the latest available observations
                                of a deployment's current state.
                              items:
                                description: DeploymentCondition describes the state of
                                  a deployment at a certain point.
                                properties:
                                  lastTransitionTime:
                                    description: Last time the condition transitioned from
                                      one status to another.
                                    format: date-time
                                    type: string
                                  lastUpdateTime:
                                    description: The last time this condition was updated.
                                    format: date-time
                                    type: string
                                  message:
                                    description: A human readable message indicating details
                                      about the transition.
                                    type: string
                                  reason:
                                    description: The reason for the condition's last transition.
                                    type: string
                                  status:
                                    description: Status of the condition, one of True, False,
                                      Unknown.
                                    type: string
                                  type:
                                    description: Type of deployment condition.
                                    type: string
                                required:
                                - status
                                - type
                                type: object
                              type: array
                            observedGeneration:
                              description: The generation observed by the deployment controller.
                              format: int64
                              type: integer
                            readyReplicas:
                              description: Total number of ready pods targeted by this deployment.
                              format: int32
                              type: integer
                            replicas:
                              description: Total number of non-terminated pods targeted
                                by this deployment (their labels match the selector).
                              format: int32
                              type: integer
                            unavailableReplicas:
                              description: Total number of unavailable pods targeted by
                                this deployment. This is the total number of pods that are
                                still required for the deployment to have 100% available
                                capacity. They may either be pods that are running but not
                                yet available or pods that still have not been created.
                              format: int32
                              type: integer
                            updatedReplicas:
                              description: Total number of non-terminated pods targeted
                                by this deployment that have the desired template spec.
                              format: int32
                              type: integer
                          type: object
                      required:
                      - name
                      - status
                      type: object
                    type: array
                  phase:
                    description: Represents the running phase of the MultiCloudHub
                    type: string
                required:
                - phase
                type: object
            type: object
        version: v1alpha1
        versions:
        - name: v1alpha1
          served: true
          storage: true
  clusterServiceVersions: |-
    - apiVersion: operators.coreos.com/v1alpha1
      kind: ClusterServiceVersion
      metadata:
        annotations:
          alm-examples: |-
            [
              {
                "apiVersion": "operators.multicloud.ibm.com/v1alpha1",
                "kind": "MultiCloudHub",
                "metadata": {
                  "name": "example-multicloudhub",
                  "namespace": "default"
                },
                "spec": {
                  "etcd": {
                    "endpoints": "http://etcd-cluster.default.svc.cluster.local:2379"
                  },
                  "foundation": {
                    "apiserver": {
                      "apiserverSecret": "mcm-apiserver-self-signed-secrets",
                      "configuration": {
                        "http2-max-streams-per-connection": "1000"
                      },
                      "klusterletSecret": "mcm-klusterlet-self-signed-secrets",
                      "replicas": 1
                    },
                    "controller": {
                      "configuration": {
                        "enable-rbac": "true",
                        "enable-service-registry": "true"
                      },
                      "replicas": 1
                    }
                  },
                  "imagePullPolicy": "Always",
                  "imagePullSecret": "quay-secret",
                  "imageRepository": "quay.io/open-cluster-management",
                  "imageTagPostfix": "202002170800",
                  "mongo": {
                    "endpoints": "mongo-0.mongo.default",
                    "replicaSet": "rs0"
                  },
                  "version": "latest"
                }
              }
            ]
          capabilities: Basic Install
        name: multicloudhub-operator.v0.0.1
        namespace: placeholder
      spec:
        apiservicedefinitions: {}
        customresourcedefinitions:
          required:
          - name: channels.app.ibm.com
            version: v1alpha1
            kind: Channel
            displayName: Channel
            description: Represent a helm chart repository
          - name: deployables.app.ibm.com
            version: v1alpha1
            kind: Deployable
            displayName: Deployable
            description: 'Contain a k8s resource template for deployment, for internal use only.'
          - name: etcdclusters.etcd.database.coreos.com
            version: v1beta2
            kind: EtcdCluster
            displayName: etcd Cluster
            description: Represents a cluster of etcd nodes.
          - name: helmreleases.app.ibm.com
            version: v1alpha1
            kind: HelmRelease
            displayName: Helm Release
            description: Represent a helm chart selected by the subscription, for internal use only.
          - name: subscriptions.app.ibm.com
            version: v1alpha1
            kind: Subscription
            displayName: Subscription
            description: Subscribe resources from a channel according to its package filters
          owned:
          - description: MultiCloudHub is the Schema for the multicloudhubs API
            displayName: Multicloudhub Operator
            kind: MultiCloudHub
            name: multicloudhubs.operators.multicloud.ibm.com
            version: v1alpha1
        description: Placeholder description
        displayName: Multicloudhub Operator
        install:
          spec:
            clusterPermissions:
            - rules:
              - apiGroups:
                - ""
                resources:
                - pods
                - services
                - services/finalizers
                - endpoints
                - persistentvolumeclaims
                - events
                - configmaps
                - secrets
                - serviceaccounts
                - namespaces
                verbs:
                - '*'
              - apiGroups:
                - apps
                resources:
                - deployments
                - daemonsets
                - replicasets
                - statefulsets
                verbs:
                - '*'
              - apiGroups:
                - monitoring.coreos.com
                resources:
                - servicemonitors
                verbs:
                - get
                - create
              - apiGroups:
                - apps
                resourceNames:
                - multicloudhub-operator
                resources:
                - deployments/finalizers
                verbs:
                - update
              - apiGroups:
                - ""
                resources:
                - pods
                verbs:
                - get
              - apiGroups:
                - apps
                resources:
                - replicasets
                - deployments
                verbs:
                - get
              - apiGroups:
                - admissionregistration.k8s.io
                resources:
                - '*'
                verbs:
                - '*'
              - apiGroups:
                - operators.multicloud.ibm.com
                resources:
                - '*'
                verbs:
                - '*'
              - apiGroups:
                - apiregistration.k8s.io
                resources:
                - '*'
                verbs:
                - '*'
              - apiGroups:
                - rbac.authorization.k8s.io
                resources:
                - '*'
                verbs:
                - '*'
              - apiGroups:
                - clusterregistry.k8s.io
                resources:
                - '*'
                verbs:
                - '*'
              - apiGroups:
                - operators.coreos.com
                resources:
                - operatorgroups
                - subscriptions
                verbs:
                - get
                - create
              - apiGroups:
                - etcd.database.coreos.com
                resources:
                - etcdclusters
                verbs:
                - get
                - create
              - apiGroups:
                - apiextensions.k8s.io
                resources:
                - customresourcedefinitions
                verbs:
                - get
                - create
              - apiGroups:
                - app.ibm.com
                resources:
                - '*'
                verbs:
                - '*'
              serviceAccountName: multicloudhub-operator
            deployments:
            - name: multicloudhub-operator
              spec:
                replicas: 1
                selector:
                  matchLabels:
                    name: multicloudhub-operator
                strategy: {}
                template:
                  metadata:
                    labels:
                      name: multicloudhub-operator
                  spec:
                    containers:
                    - command:
                      - multicloudhub-operator
                      env:
                      - name: WATCH_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.annotations['olm.targetNamespaces']
                      - name: POD_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.name
                      - name: POD_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.namespace
                      - name: OPERATOR_NAME
                        value: multicloudhub-operator
                      - name: USER
                        value: multicloudhub-operator
                      - name: TEMPLATES_PATH
                        value: /usr/local/templates
                      image: quay.io/rhibmcollab/multicloudhub-operator:1.0.0
                      imagePullPolicy: Always
                      name: multicloudhub-operator
                      resources: {}
                    imagePullSecrets:
                    - name: quay-secret
                    serviceAccountName: multicloudhub-operator
          strategy: deployment
        installModes:
        - supported: true
          type: OwnNamespace
        - supported: true
          type: SingleNamespace
        - supported: false
          type: MultiNamespace
        - supported: false
          type: AllNamespaces
        maturity: alpha
        provider: {}
        version: 0.0.1
  packages: |-
    - channels:
      - currentCSV: multicloudhub-operator.v0.0.1
        name: alpha
      defaultChannel: alpha
      packageName: multicloudhub-operator
