  apiVersion: operators.coreos.com/v1alpha1
  kind: ClusterServiceVersion
  metadata:
    annotations:
      alm-examples: |-
        [
          {
            "apiVersion": "operators.multicloud.ibm.com/v1alpha1",
            "kind": "MultiCloudHub",
            "metadata": {
              "name": "example-multicloudhub",
              "namespace": "default"
            },
            "spec": {
              "etcd": {
                "endpoints": "http://etcd-cluster.default.svc.cluster.local:2379"
              },
              "foundation": {
                "apiserver": {
                  "apiserverSecret": "mcm-apiserver-self-signed-secrets",
                  "configuration": {
                    "http2-max-streams-per-connection": "1000"
                  },
                  "klusterletSecret": "mcm-klusterlet-self-signed-secrets",
                  "replicas": 1
                },
                "controller": {
                  "configuration": {
                    "enable-rbac": "true",
                    "enable-service-registry": "true"
                  },
                  "replicas": 1
                }
              },
              "hive": {
                "additionalCertificateAuthorities": [
                  {
                    "name": "letsencrypt-ca"
                  }
                ],
                "failedProvisionConfig": {
                  "skipGatherLogs": false
                },
                "globalPullSecret": {
                  "name": "private-secret"
                },
                "managedDomains": [
                  "s1.openshiftapps.com"
                ]
              },
              "imagePullPolicy": "Always",
              "imagePullSecret": "quay-secret",
              "imageRepository": "quay.io/rhibmcollab",
              "mongo": {
                "endpoints": "mongo-0.mongo.default",
                "replicaSet": "rs0"
              },
              "version": "latest"
            }
          }
        ]
      capabilities: Basic Install
    name: multicloudhub-operator.v0.0.1
  spec:
    apiservicedefinitions: {}
    customresourcedefinitions:
      required:
      - name: channels.app.ibm.com
        version: v1alpha1
        kind: Channel
        displayName: Channel
        description: Represent a helm chart repository
      - name: deployables.app.ibm.com
        version: v1alpha1
        kind: Deployable
        displayName: Deployable
        description: 'Contain a k8s resource template for deployment, for internal use only.'
      - name: etcdclusters.etcd.database.coreos.com
        version: v1beta2
        kind: EtcdCluster
        displayName: etcd Cluster
        description: Represents a cluster of etcd nodes.
      - name: helmreleases.app.ibm.com
        version: v1alpha1
        kind: HelmRelease
        displayName: Helm Release
        description: Represent a helm chart selected by the subscription, for internal use only.
      - name: subscriptions.app.ibm.com
        version: v1alpha1
        kind: Subscription
        displayName: Subscription
        description: Subscribe resources from a channel according to its package filters
      owned:
      - description: MultiCloudHub is the Schema for the multicloudhubs API
        displayName: Multicloudhub Operator
        kind: MultiCloudHub
        name: multicloudhubs.operators.multicloud.ibm.com
        version: v1alpha1
    description: Placeholder description
    displayName: Multicloudhub Operator
    install:
      spec:
        clusterPermissions:
        - rules:
          - apiGroups:
            - ""
            resources:
            - pods
            - services
            - services/finalizers
            - endpoints
            - persistentvolumeclaims
            - events
            - configmaps
            - secrets
            - serviceaccounts
            - namespaces
            verbs:
            - '*'
          - apiGroups:
            - apps
            resources:
            - deployments
            - daemonsets
            - replicasets
            - statefulsets
            verbs:
            - '*'
          - apiGroups:
            - monitoring.coreos.com
            resources:
            - servicemonitors
            verbs:
            - get
            - create
          - apiGroups:
            - apps
            resourceNames:
            - multicloudhub-operator
            resources:
            - deployments/finalizers
            verbs:
            - update
          - apiGroups:
            - ""
            resources:
            - pods
            verbs:
            - get
          - apiGroups:
            - apps
            resources:
            - replicasets
            - deployments
            verbs:
            - get
          - apiGroups:
            - admissionregistration.k8s.io
            resources:
            - '*'
            verbs:
            - '*'
          - apiGroups:
            - operators.multicloud.ibm.com
            resources:
            - '*'
            verbs:
            - '*'
          - apiGroups:
            - apiregistration.k8s.io
            resources:
            - '*'
            verbs:
            - '*'
          - apiGroups:
            - rbac.authorization.k8s.io
            resources:
            - '*'
            verbs:
            - '*'
          - apiGroups:
            - clusterregistry.k8s.io
            resources:
            - '*'
            verbs:
            - '*'
          - apiGroups:
            - operators.coreos.com
            resources:
            - operatorgroups
            - subscriptions
            verbs:
            - get
            - create
          - apiGroups:
            - etcd.database.coreos.com
            resources:
            - etcdclusters
            verbs:
            - get
            - create
          - apiGroups:
            - apiextensions.k8s.io
            resources:
            - customresourcedefinitions
            verbs:
            - get
            - create
          - apiGroups:
            - app.ibm.com
            resources:
            - '*'
            verbs:
            - '*'
          - apiGroups:
            - operators.coreos.com
            resources:
            - hive-catalog
            - catalogsources
            - clusterserviceversions
            - hiveconfig
            verbs:
            - get
            - create
          - apiGroups:
            - hive.openshift.io
            resources:
            - hiveconfigs
            verbs:
            - get
            - create
          serviceAccountName: multicloudhub-operator
        deployments:
        - name: multicloudhub-operator
          spec:
            replicas: 1
            selector:
              matchLabels:
                name: multicloudhub-operator
            strategy: {}
            template:
              metadata:
                labels:
                  name: multicloudhub-operator
              spec:
                containers:
                - command:
                  - multicloudhub-operator
                  env:
                  - name: WATCH_NAMESPACE
                    valueFrom:
                      fieldRef:
                        fieldPath: metadata.annotations['olm.targetNamespaces']
                  - name: POD_NAME
                    valueFrom:
                      fieldRef:
                        fieldPath: metadata.name
                  - name: POD_NAMESPACE
                    valueFrom:
                      fieldRef:
                        fieldPath: metadata.namespace
                  - name: OPERATOR_NAME
                    value: multicloudhub-operator
                  - name: USER
                    value: multicloudhub-operator
                  - name: TEMPLATES_PATH
                    value: /usr/local/templates
                  image: quay.io/rhibmcollab/multicloudhub-operator:latest
                  imagePullPolicy: Always
                  name: multicloudhub-operator
                  resources: {}
                imagePullSecrets:
                - name: quay-secret
                serviceAccountName: multicloudhub-operator
      strategy: deployment
    installModes:
    - supported: true
      type: OwnNamespace
    - supported: true
      type: SingleNamespace
    - supported: false
      type: MultiNamespace
    - supported: false
      type: AllNamespaces
    maturity: alpha
    provider: {}
    version: 0.0.1
